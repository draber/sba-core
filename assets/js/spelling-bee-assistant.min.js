!function(){"use strict";const t={equal:(t,e)=>t===e,notEqual:(t,e)=>t!==e,greater:(t,e)=>t>e,greaterEqual:(t,e)=>t>=e,lesser:(t,e)=>t<e,lesserEqual:(t,e)=>t<=e,instanceof:(t,e)=>t instanceof e,typeof:(t,e)=>typeof t===e,match:(t,e)=>e.test(t)},e={"===":t.equal,"!==":t.notEqual,">":t.greater,">=":t.greaterEqual,"<":t.lesser,"<=":t.lesserEqual},a=a=>{if(a instanceof Function)return a;if(t[a])return t[a];if(e[a])return e[a];throw`Unknown function ${a}`},o=t=>!(!t||"object"!=typeof t||Object.getPrototypeOf(t)!==Object.prototype),s=t=>o(t)||Array.isArray(t),r=(t,e=[],a="")=>(null==t||(Array.isArray(t)&&(t={...t}),Object.entries(t).forEach((([t,o])=>{const n=a+(a?".":"")+t;s(o)?r(o,e,n):e.push(n)}))),e),n=(t,e)=>e.toString().split(".").reduce(((t,e)=>t?.[e]),t),i=(t,e,a)=>{const s=e.toString().split("."),r=s.pop();for(let e of s){if(t[e]||(t[e]={}),!o(t))throw`${e} is not of the type Object`;t=t[e]}return void 0!==a?t[r]=a:delete t[r],t};class l{get length(){return this.keys().length}flush(){this.obj={},this.save()}save(){return this.lsKey?localStorage.setItem(this.lsKey,this.toJson()):null}set(t,e){return i(this.obj,t,e),this.save(),this}unset(t){return i(this.obj,t),this.save(),this}get(t){return n(this.obj,t)}getClone(t){return(t=>structuredClone instanceof Function?structuredClone(t):JSON.parse(JSON.stringify(t)))(this.get(t))}has(t){return void 0!==this.get(t)}where(t,e,a=null){return[t,e,a]}object(...t){if(!(t=t.filter((t=>Array.isArray(t)))).length)return this.obj;const e={};for(let[o,s]of Object.entries(this.obj))t.forEach((t=>{const r=n(this.obj,`${o}.${t[0]}`),i=t[2];a(t[1])(r,i)&&(e[o]=s)}));return e}entries(...t){return Object.entries(this.object.apply(this,t))}values(...t){return Object.values(this.object.apply(this,t))}keys(...t){return Object.keys(this.object.apply(this,t))}remove(...t){t.forEach((t=>{delete this.obj[t]})),this.save()}resolveVars(){const t=(t=>{let e=[...t.toJson().matchAll(t.tplRe)].map((t=>t.groups.path));e=Array.from(new Set(e));let a={};e.forEach((e=>{const o=t.get(e);(["string","number"].includes(typeof o)||s(o))&&(a[`{{${e}}}`]=o)}));for(let[e,o]of Object.entries(a))if(s(o)){for(let e of r(o)){const s=n(o,e);["string","number"].includes(typeof s)&&i(o,e,s.replace(t.tplRe,((t,e)=>void 0!==a[e]?a[e]:e)))}a[e]=o}else a[e]=o.replace(t.tplRe,((t,e)=>void 0!==a[e]?a[e]:e));return a})(this);for(let e of r(this.obj)){const a=this.get(e);t[a]&&o(t[a])?this.set(e,t[a]):["string","number"].includes(typeof a)&&this.tplRe.test(a.toString())&&this.set(e,a.replace(this.tplRe,((o,r)=>void 0===t[r]?r:(s(t[r])&&a!==o&&console.error(`Incompatible types: '${e}' contains '${o}' which resolves to an object or array`),void 0!==t[r]?t[r]:r))))}return this}toJson(t=!1){return JSON.stringify(this.obj,null,t?"\t":null)}constructor({data:t={},lsKey:e=!1}={}){this.obj=t,this.lsKey=e,this.tplRe=/(?<full>{{(?<path>[^}]+)}})/g,this.resolveVars()}}const d=new l({data:{version:"5.0.0",label:"Spelling Bee Assistant",title:"Assistant",url:"https://spelling-bee-assistant.app/",ns:"sba",kofi:{url:"https://ko-fi.com/sbassistant",text:"Buy me a coffee"},targetUrl:"https://www.nytimes.com/puzzles/spelling-bee"}}),c=t=>t.replace(/[_-]+/," ").replace(/(?:^[\w]|[A-Z]|\b\w|\s+)/g,(function(t,e){return 0==+t?"":0===e?t.toLowerCase():t.toUpperCase()})),p=(t="",e="c")=>{switch(e){case"c":return c(d.get("ns")+"_"+t);case"d":return(t=>t.replace(/[\W_]+/g," ").split(/ |\B(?=[A-Z])/).map((t=>t.toLowerCase())).join("-"))(d.get("ns")+t.charAt(0).toUpperCase()+t.slice(1));default:return d.get("ns")+t}};const h=new class extends l{update(t){return this.app?(this.set("foundTerms",this.get("foundTerms").concat(t)),this.set("foundPangrams",this.get("foundTerms").filter((t=>this.get("pangrams").includes(t)))),this.set("remainders",this.get("answers").filter((t=>!this.get("foundTerms").includes(t)))),this.app.trigger(p("refreshUi")),this):(console.error("dataStore.app is not defined"),!1)}getPoints(t){const e=this.get(t);let a=0;return e.forEach((t=>{this.get("pangrams").includes(t)?a+=t.length+7:t.length>4?a+=t.length:a+=1})),a}getCount(t){return this.get(t).length}setApp(t){return this.app=t,this.app.on(p("newWord"),(t=>{h.update([t.detail])})),this}constructor({data:t={}}={}){super({data:t})}}({data:{...window.gameData.today,foundTerms:[],foundPangrams:[],remainders:[]}}),u=d.get("ns")+"-prefs",b=new l({data:JSON.parse(localStorage.getItem(u)||"{}"),lsKey:u});class g{getState(){const t=b.get(this.key);return void 0!==t?t:this.defaultState}setState(t){return this.canChangeState&&b.set(this.key,t),this}toggle(t){return this.canChangeState?(this.setState(t),this.hasUi()&&this.ui.classList.toggle("inactive",!t),this):this}hasUi(){return this.ui instanceof HTMLElement}on(t,e){return this.hasUi()&&this.ui.addEventListener(t,e),this}trigger(t,e){return this.hasUi()&&this.ui.dispatchEvent(e?new CustomEvent(t,{detail:e}):new Event(t)),this}constructor(t,{key:e,canChangeState:a,defaultState:o}={}){if(!t)throw new TypeError(`Missing 'title' from ${this.constructor.name}`);this.title=t,this.key=e||c(t),this.canChangeState=void 0!==a&&a,this.defaultState=void 0===o||o,this.setState(this.getState()),this.ui=null}}class m extends g{attach(){return this.hasUi()?(this.ui.dataset.ui=this.key,(this.target||this.app.ui)[this.addMethod](this.ui),this):this}add(){return this.attach()}run(t){return this}constructor(t,e,a,{key:o,canChangeState:s,defaultState:r,menuIcon:n,runEvt:i,addMethod:l}={}){super(e,{key:o,canChangeState:s,defaultState:r}),this.target,this.description=a||"",this.app=t,this.addMethod=l||"append",this.menuIcon=n||"checkbox",i&&this.app.on(i,(t=>{this.run(t)}))}}class f extends m{toggle(t){return super.toggle(t),document.body.dataset[p("theme")]=t?"dark":"light",this}constructor(t){super(t,"Dark Mode","Applies a dark theme to this page",{canChangeState:!0,defaultState:!1}),this.toggle(this.getState())}}const v={$:(t,e=null)=>"string"==typeof t?(e||document).querySelector(t):t||null,$$:(t,e=null)=>[].slice.call((e||document).querySelectorAll(t)),waitFor:function(t,e=null){return new Promise((a=>{const o=()=>{const s=v.$(t,e);s?a(s):requestAnimationFrame(o)};o()}))},toNode:t=>{if(t.forEach&&"function"==typeof t.forEach||(t=[t]),1===(t=t.map((t=>(t=>{if(void 0===t)return document.createDocumentFragment();if(t instanceof Element||t instanceof DocumentFragment)return t;if("number"==typeof t&&(t=t.toString()),"string"==typeof t||t instanceof String){if(!/<(.*)>/.test(t))return document.createTextNode(t);let e;const a=t.includes("<svg")?"image/svg+xml":"text/html",o=(new DOMParser).parseFromString(t,a);return o.body?(e=document.createDocumentFragment(),Array.from(o.body.childNodes).forEach((t=>{e.append(t)})),e):o.documentElement}console.error("Expected Element|DocumentFragment|String|HTMLCode|SVGCode, got",t)})(t)))).length)return t[0];{const e=document.createDocumentFragment();return t.forEach((t=>{e.append(t)})),e}},empty:t=>{for(;t.lastChild;)t.lastChild.remove();return t.textContent="",t}},y=function({tag:t,content:e,attributes:a={},style:o={},data:s={},aria:r={},events:n={},classNames:i=[],isSvg:l=!1}={}){const d=l?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);if(new Map([["class","className"],["for","htmlFor"],["tabindex","tabIndex"],["nomodule","noModule"],["contenteditable","contentEditable"],["accesskey","accessKey"]]).forEach(((t,e)=>{void 0===a[t]&&a[e]&&(a[t]=a[e]),delete a[e]})),a.style){const t={};a.style.split(";").forEach((e=>{const a=e.split(":").map((t=>t.trim()));t[a[0]]=a[1]})),o={...t,...o},delete a.style}for(let[t,e]of Object.entries(a))l?d.setAttributeNS(null,t,e.toString()):!1!==e&&(d[t]=e);for(let[t,e]of Object.entries(r))t="role"===t?t:"aria-"+t,d.setAttribute(t.toLowerCase(),e);for(let[t,e]of Object.entries(s))e=e.toString(),d.dataset[t]=e;for(const[t,e]of Object.entries(n))d.addEventListener(t,e,!1);return Object.assign(d.style,o),i.length&&d.classList.add(...i),void 0!==e&&d.append(v.toNode(e)),d};var w=new Proxy(v,{get:(t,e)=>function(){const a=Array.from(arguments);return Object.prototype.hasOwnProperty.call(t,e)&&t[e]instanceof Function?(t[e].bind(t),t[e].apply(null,a)):y({tag:e,...a.shift()})}});class x{enableKeyClose(){return document.addEventListener("keyup",(t=>{this.app.popupCloser=this.getCloseButton(),this.app.popupCloser&&"Escape"===t.code&&this.app.popupCloser.click(),delete this.app.popupCloser})),this}getTarget(){const t=p("popup-container","d");let e=w.$(`[data-ui="${t}"]`);return e||(e=w.template({data:{ui:t}}),w.$("body").append(e)),e}create(){return w.div({classNames:["sb-modal-frame",p("pop-up","d")],aria:{role:"button"},data:{ui:this.key},events:{click:t=>{t.stopPropagation()}},content:[w.div({classNames:["sb-modal-top"],content:w.div({aria:{role:"button"},classNames:["sb-modal-close"],content:"×",events:{click:()=>{this.toggle(!1)}}})}),w.div({classNames:["sb-modal-content"],content:[w.div({classNames:["sb-modal-header"],content:[this.parts.title,this.parts.subtitle]}),this.parts.body,this.parts.footer]})]})}setContent(t,e){return this.parts[t]?(this.parts[t]=w.empty(this.parts[t]),this.parts[t].append(w.toNode(e)),this):(console.error(`Unknown target ${t}`),this)}getCloseButton(){for(let t of[".pz-moment__frame.on-stage .pz-moment__close",".sb-modal-close"]){const e=w.$(t,this.app.gameWrapper);if(e)return e}return!1}toggle(t){const e=this.getCloseButton();return!t&&e&&e.click(),t?(this.app.modalWrapper.append(this.ui),this.modalSystem.classList.add("sb-modal-open"),this.isOpen=!0):(this.getTarget().append(this.ui),this.modalSystem.classList.remove("sb-modal-open"),this.isOpen=!1),this}constructor(t,e){this.key=e,this.app=t,this.state=!1,this.isOpen=!1,this.modalSystem=this.app.modalWrapper.closest(".sb-modal-system"),this.parts={title:w.h3({classNames:["sb-modal-title"]}),subtitle:w.p({classNames:["sb-modal-message"]}),body:w.div({classNames:["sb-modal-body"]}),footer:w.div({classNames:["sb-modal-message","sba-modal-footer"],content:[w.a({content:d.get("label"),attributes:{href:d.get("url"),target:p()}})]})},this.ui=this.create(),this.enableKeyClose(),this.getTarget().append(this.ui)}}class k extends m{toggle(t){return w.$$("[data-sba-theme]").forEach((e=>{e.style.setProperty("--dhue",t.hue),e.style.setProperty("--dsat",t.sat+"%")})),super.toggle(t)}display(){this.popup.toggle(!0),w.$("input:checked",this.popup.ui).focus()}constructor(t){super(t,"Dark Mode Colors","Select your favorite color scheme for the Dark Mode.",{canChangeState:!0,defaultState:{hue:0,sat:0}}),this.menuAction="popup",this.menuIcon="null";const e=w.ul({classNames:[p("swatches","d")]});for(let t=0;t<360;t+=30){const a=0===t?0:25;e.append(w.li({content:[w.input({attributes:{name:"color-picker",type:"radio",value:t,checked:t===this.getState().hue,id:p("h"+t)},events:{change:()=>{this.toggle({hue:t,sat:a})}}}),w.label({attributes:{htmlFor:p("h"+t)},style:{background:`hsl(${t}, ${a}%, 22%)`}})]}))}this.popup=new x(this.app,this.key).setContent("title",this.title).setContent("subtitle",this.description).setContent("body",w.div({classNames:[p("color-selector","d")],content:[e,w.div({classNames:["hive"],content:[w.svg({classNames:["hive-cell","outer"],attributes:{viewBox:"0 0 24 21"},isSvg:!0,content:[w.path({classNames:["cell-fill"],isSvg:!0,attributes:{d:"M18 21H6L0 10.5 6 0h12l6 10.5z"}}),w.text({classNames:["cell-letter"],attributes:{x:"50%",y:"50%",dy:"0.35em"},isSvg:!0,content:"s"})]})]})]})),this.popup.ui.dataset[p("theme")]="dark",this.toggle(this.getState())}}class z extends m{constructor(t){super(t,d.get("title"),"",{key:"header"}),this.ui=w.div({content:this.title})}}class S extends m{run(t){let e=100*h.getPoints("foundTerms")/h.getPoints("answers");return e=Math.min(Number(Math.round(e+"e2")+"e-2"),100),this.ui.value=e,this.ui.textContent=e+"%",this.ui.title=`Progress: ${e}%`,this}constructor(t){super(t,"Progress Bar","Displays your progress as a yellow bar",{canChangeState:!0,runEvt:p("refreshUi"),addMethod:"before"}),this.ui=w.progress({attributes:{max:100}}),t.on(p("pluginsReady"),(t=>{this.app.plugins.has("yourProgress")&&(this.ui.style.cursor="pointer",this.ui.addEventListener("pointerup",(()=>{this.app.plugins.get("yourProgress").display()})))})),this.target=w.$(".sb-wordlist-heading",this.app.gameWrapper),this.toggle(this.getState())}}class C extends m{run(t){this.pane=w.empty(this.pane);const e=w.tbody(),a=this.getData();this.hasHeadRow&&this.pane.append(this.buildHead(a.shift()));const o=a.length;let s=0;return a.forEach(((t,a)=>{s=t.length;const r=[];for(const[e,s]of Object.entries(this.cssMarkers))s(t,a,o)&&r.push(p(e,"d"));const n=w.tr({classNames:r});t.forEach(((t,e)=>{const a=0===e&&this.hasHeadCol?"th":"td";n.append(w[a]({content:t}))})),e.append(n)})),this.pane.dataset.cols=s,this.pane.append(e),this}buildHead(t){return w.thead({content:w.tr({content:t.map((t=>w.th({content:t})))})})}getPane(){return this.pane}constructor(t,e,a,{canChangeState:o=!0,defaultState:s=!0,cssMarkers:r={},hasHeadRow:n=!0,hasHeadCol:i=!0}={}){super(t,e,a,{canChangeState:o,defaultState:s}),t.on(p("refreshUi"),(()=>{this.run()})),this.cssMarkers=r,this.hasHeadRow=n,this.hasHeadCol=i,this.pane=w.table({classNames:["pane",p("dataPane","d")]})}}class _ extends C{getData(){const t=["foundTerms","remainders","answers"];return[["","✓","?","∑"],["W"].concat(t.map((t=>h.getCount(t)))),["P"].concat(t.map((t=>h.getPoints(t))))]}constructor(t){super(t,"Score","The number of words and points and how many have been found"),this.ui=w.details({attributes:{open:!0},content:[w.summary({content:this.title}),this.getPane()]})}}class E extends m{run(t){let e="🙂";return t.detail?h.get("remainders").filter((e=>e.startsWith(t.detail))).length||(e="🙁"):e="😐",this.ui.textContent=e,this}toggle(t){return t&&this.app.domSet("submenu",!1),super.toggle(t)}constructor(t){super(t,"Spill the beans","An emoji that shows if the last letter was right or wrong",{canChangeState:!0,runEvt:p("newInput"),addMethod:"prepend"}),this.ui=w.div({content:"😐"}),this.target=w.$(".sb-controls",this.app.gameWrapper),this.toggle(!1)}}class P extends C{getData(){const t={},e=[["","✓","?","∑"]];h.get("answers").forEach((e=>{t[e.length]=t[e.length]||{found:0,missing:0,total:0},h.get("foundTerms").includes(e)?t[e.length].found++:t[e.length].missing++,t[e.length].total++}));let a=Object.keys(t);return a.sort(((t,e)=>t-e)),a.forEach((a=>{e.push([a,t[a].found,t[a].missing,t[a].total])})),e}constructor(t){super(t,"Letter count","The number of words by length",{cssMarkers:{completed:(t,e)=>0===t[2]}}),this.ui=w.details({content:[w.summary({content:this.title}),this.getPane()]}),this.toggle(this.getState())}}class N extends C{getData(){const t={},e=h.get("answers").sort(((t,e)=>t.startsWith(this.centerLetter)?-1:e.startsWith(this.centerLetter)?1:t<e?-1:1)),a=h.get("remainders"),o={foundTerms:0,remainders:0,total:0};e.forEach((e=>{const s=e.charAt(0);void 0===t[s]&&(t[s]={...o}),a.includes(e)?t[s].remainders++:t[s].foundTerms++,t[s].total++}));const s=[["","✓","?","∑"]];for(let[e,a]of Object.entries(t))a=Object.values(a),a.unshift(e),s.push(a);return s}constructor(t){super(t,"First letter","The number of words by first letter",{cssMarkers:{completed:(t,e)=>0===t[2],preeminent:(t,e)=>t[0]===h.get("centerLetter")}}),this.ui=w.details({content:[w.summary({content:this.title}),this.getPane()]}),this.toggle(this.getState())}}class j extends C{getData(){const t={},e=h.get("answers").sort(((t,e)=>t.startsWith(this.centerLetter)?-1:e.startsWith(this.centerLetter)?1:t<e?-1:1)),a=h.get("remainders"),o={foundTerms:0,remainders:0,total:0};e.forEach((e=>{const s=e.slice(0,2);void 0===t[s]&&(t[s]={...o}),a.includes(e)?t[s].remainders++:t[s].foundTerms++,t[s].total++}));const s=[["","✓","?","∑"]];for(let[e,a]of Object.entries(t))a=Object.values(a),a.unshift(e),s.push(a);return s}constructor(t){super(t,"First two letters","The number of words by the first two letters",{cssMarkers:{completed:(t,e)=>0===t[2]}}),this.ui=w.details({content:[w.summary({content:this.title}),this.getPane()]}),this.toggle(this.getState())}}class T extends C{getData(){const t=h.getCount("pangrams"),e=h.getCount("foundPangrams");return[["✓","?","∑"],[e,t-e,t]]}constructor(t){super(t,"Pangrams","The number of pangrams",{cssMarkers:{completed:(t,e)=>0===t[1]},hasHeadCol:!1}),this.ui=w.details({content:[w.summary({content:this.title}),this.getPane()]}),this.toggle(this.getState())}}class $ extends C{display(){const t=h.getPoints("foundTerms"),e=h.getPoints("answers"),a=this.getPointsToNextTier(),o=100*t/e;let s;return s=a?w.span({content:["You are currently at ",w.b({content:t+"/"+e})," points or ",w.b({content:Math.min(Number(Math.round(o+"e2")+"e-2"),100)+"%"}),". You need ",w.b({content:a-t})," more points to go to the next level."]}):w.span({content:["Congratulations, you’ve found all ",w.b({content:t})," points!"]}),this.popup.setContent("subtitle",w.span({content:s})).setContent("body",this.getPane()).toggle(!0),this}getData(){const t=h.getPoints("answers");return[["Beginner",0],["Good Start",2],["Moving Up",5],["Good",8],["Solid",15],["Nice",25],["Great",40],["Amazing",50],["Genius",70],["Queen Bee",100]].map((e=>[e[0],Math.round(e[1]/100*t),e[1]]))}getCurrentTier(){return this.getData().filter((t=>t[1]<=h.getPoints("foundTerms"))).pop()[1]}getPointsToNextTier(){const t=this.getData().filter((t=>t[1]>h.getPoints("foundTerms"))).shift();return t?t[1]:null}constructor(t){super(t,"Your Progress","The number of points required for each level",{cssMarkers:{completed:t=>t[1]<h.getPoints("foundTerms")&&t[1]!==this.getCurrentTier(),preeminent:t=>t[1]===this.getCurrentTier()},hasHeadRow:!1,hasHeadCol:!1}),this.popup=new x(this.app,this.key).setContent("title",this.title),this.menuAction="popup",this.menuIcon="null"}}class L extends m{hasGeniusNo4Letters(){const t=h.getPoints("answers");return t-h.get("answers").filter((t=>4===t.length)).length>=Math.round(.7*t)}getPerfectPangramCount(){return h.get("pangrams").filter((t=>7===t.length)).length}hasBingo(){return 7===Array.from(new Set(h.get("answers").map((t=>t.charAt(0))))).length}nytCommunity(){const t=h.get("printDate"),e=`https://www.nytimes.com/${t.replace(/-/g,"/")}/crosswords/spelling-bee-${t}.html#commentsContainer`;return w.a({content:"NYT Spelling Bee Forum for today’s game",attributes:{href:e,target:p()}})}twitter(){const t=["hivemind","nytspellingbee","nytbee","nytsb"].map((t=>w.a({content:`#${t}`,attributes:{href:`https://twitter.com/hashtag/${t}`,target:p()}}))),e=[];return t.forEach((t=>{e.push(t,", ")})),e.pop(),e.push(" on Twitter"),e}nytSpotlight(){return w.a({content:"Portal to all NYT Spelling Bee Forums",attributes:{href:"https://www.nytimes.com/spotlight/spelling-bee-forum",target:p()}})}redditCommunity(){return w.a({content:"NY Times Spelling Bee Puzzle on Reddit",attributes:{href:"https://www.reddit.com/r/NYTSpellingBee/",target:p()}})}display(){return this.popup.toggle(!0),this}constructor(t){super(t,"Community","Spelling Bee resources suggested by the community",{canChangeState:!0}),this.menuAction="popup",this.menuIcon="null";const e=["two","three","four","five","six","seven","eight","nine","ten"],a=w.ul({content:[w.li({content:[w.h4({content:"Does today’s game have a Perfect Pangram?"}),w.p({content:(()=>{const t=this.getPerfectPangramCount();switch(t){case 0:return"No, today it doesn’t.";case 1:return"Yes, today there’s one Perfect Pangram.";default:return`Yes, today there are ${e[t-2]} Perfect Pangrams.`}})()}),w.em({content:'Pangrams that use each letter only once are called "perfect" by the community.'})]}),w.li({content:[w.h4({content:'Does it classify as "Bingo"?'}),w.p({content:this.hasBingo()?"Yes, today is Bingo day!":"No, today it doesn’t."}),w.em({content:'"Bingo" means that all seven letters in the puzzle are used to start at least one word in the word list.'})]}),w.li({content:[w.h4({content:"Is it possible to reach Genius without using 4-letter words?"}),w.p({content:this.hasGeniusNo4Letters()?"Yes, today it is!":"No, today it isn’t."})]}),w.li({content:[w.h4({content:"Forums and Hashtags"}),w.ul({content:[w.li({content:this.nytCommunity()}),w.li({content:this.nytSpotlight()}),w.li({content:this.redditCommunity()}),w.li({content:this.twitter()})]})]})]});this.popup=new x(this.app,this.key).setContent("title",this.title).setContent("subtitle",this.description).setContent("body",a)}}class M extends m{display(){const t=h.get("foundTerms"),e=h.get("pangrams"),a=w.ul({classNames:["sb-modal-wordlist-items"]});return h.get("answers").forEach((o=>{a.append(w.li({classNames:e.includes(o)?[p("pangram","d")]:[],content:[w.span({classNames:t.includes(o)?["check","checked"]:["check"]}),w.span({classNames:["sb-anagram"],content:o})]}))})),this.popup.setContent("body",[w.div({content:h.get("validLetters").join(""),classNames:["sb-modal-letters"]}),a]).toggle(!0),this}constructor(t){super(t,"Today’s Answers","Reveals the solution of the game",{canChangeState:!0,defaultState:!1,key:"todaysAnswers"}),this.marker=p("resolved","d"),this.popup=new x(this.app,this.key).setContent("title",this.title).setContent("subtitle",h.get("displayDate")),this.menuAction="popup",this.menuIcon="warning"}}class O extends m{toggle(t){return super.toggle(t),this.run()}run(t){const e=h.get("pangrams"),a=t&&t.detail?t.detail:this.app.resultList;return w.$$("li",a).forEach((t=>{const a=t.textContent;(e.includes(a)||w.$(".pangram",t))&&t.classList.toggle(this.marker,this.getState())})),this}constructor(t){super(t,"Highlight PangramHl","",{canChangeState:!1,runEvt:p("refreshUi")}),this.marker=p("pangram","d"),this.app.on(p("yesterday"),(t=>{this.run(t)})),this.run()}}class A extends m{toggle(t){return super.toggle(t),this.run()}listener(t){return!(!t.target.classList.contains("sb-anagram")||!t.target.closest(".sb-anagram"))&&(0===t.button?(window.open(`https://www.google.com/search?q=${t.target.textContent}`,p()),!0):void 0)}run(t=null){const e=(this.getState()?"add":"remove")+"EventListener";return[this.app.modalWrapper,this.app.resultList.parentElement].forEach((t=>{t[e]("pointerup",this.listener),t.classList.toggle(p("googlified","d"),this.getState())})),this}constructor(t){super(t,"Googlify","Link all result terms to Google",{canChangeState:!1}),this.run()}}class B extends m{constructor(t){super(t,"Styles",""),this.target=w.$("head"),this.ui=w.style({content:'[data-sba-theme]{--dhue:0;--dsat:0%;--link-hue:206;--highlight-text-color:#000}[data-sba-theme=light]{--highlight-bg-color:#f7db22;--text-color:#000;--body-bg-color:#fff;--modal-bg-color:hsla(0,0%,100%,.85);--border-color:#dbdbdb;--area-bg-color:#e6e6e6;--invalid-color:#adadad;--menu-hover-color:#f5f5f5;--head-row-bg-color:#f5f5f5;--link-color:hsl(var(--link-hue) 45%/38%);--link-visited-color:hsl(var(--link-hue) 45%/53%);--link-hover-color:hsl(var(--link-hue) 45%/53%)}[data-sba-theme=dark]{--highlight-bg-color:#facd05;--text-color:hsl(var(--dhue) var(--dsat) 85%);--body-bg-color:hsl(var(--dhue) var(--dsat) 7%);--modal-bg-color:hsl(var(--dhue) var(--dsat) 7%/0.85);--border-color:hsl(var(--dhue) var(--dsat) 20%);--area-bg-color:hsl(var(--dhue) var(--dsat) 22%);--invalid-color:hsl(var(--dhue) var(--dsat) 50%);--menu-hover-color:hsl(var(--dhue) var(--dsat) 22%);--head-row-bg-color:hsl(var(--dhue) var(--dsat) 13%);--link-color:hsl(var(--link-hue) 90% 64%);--link-visited-color:hsl(var(--link-hue) 90% 76%);--link-hover-color:hsl(var(--link-hue) 90% 76%)}body,body .pz-game-field{background:var(--body-bg-color);color:var(--text-color)}body[data-sba-theme=dark] #js-hook-pz-moment__loading,body[data-sba-theme=dark] .pz-game-wrapper{background:var(--body-bg-color)!important;color:var(--text-color)}body .pz-game-wrapper .sb-modal-message a{color:var(--link-color)}body .pz-game-wrapper .sb-modal-message a:visited{color:var(--link-visited-color)}body .pz-game-wrapper .sb-modal-message a:hover{color:var(--link-hover-color)}body .pz-game-wrapper .hive-cell:first-child .cell-fill,body .pz-game-wrapper .sb-progress-marker .sb-progress-value{fill:var(--highlight-bg-color);background:var(--highlight-bg-color);color:var(--highlight-text-color)}body .pz-game-wrapper .hive-cell .cell-fill,body .pz-game-wrapper .sba-color-selector .hive .hive-cell .cell-fill{fill:var(--area-bg-color)}body[data-sba-theme=dark] .sb-message{background:var(--area-bg-color)}body[data-sba-theme=dark] .hive-action__shuffle{position:relative}body[data-sba-theme=dark] .sb-progress-value{font-weight:700}body[data-sba-theme=dark] .hive-action__shuffle,body[data-sba-theme=dark] .sb-kebob .sb-bob-arrow,body[data-sba-theme=dark] .sb-toggle-icon{background-position:-1000px}body[data-sba-theme=dark] .hive-action__shuffle:after,body[data-sba-theme=dark] .sb-kebob .sb-bob-arrow:after,body[data-sba-theme=dark] .sb-toggle-icon:after{background-image:inherit;background-position:50%;background-repeat:inherit;background-size:inherit;bottom:0;content:"";filter:invert(1);left:0;opacity:.85;position:absolute;right:0;top:0;z-index:0}#js-logo-nav rect{fill:var(--body-bg-color)}#js-logo-nav path{fill:var(--text-color)}.pz-moment__loading{color:#000}.pz-nav__hamburger-inner,.pz-nav__hamburger-inner:after,.pz-nav__hamburger-inner:before{background-color:var(--text-color)}.pz-nav{background:var(--body-bg-color);width:100%}.pz-footer,.pz-modal__button.white,.pz-moment,.sb-modal-scrim{background:var(--modal-bg-color)!important;color:var(--text-color)!important}.pz-footer .pz-moment__button.secondary,.pz-modal__button.white .pz-moment__button.secondary,.pz-moment .pz-moment__button.secondary,.sb-modal-scrim .pz-moment__button.secondary{color:#fff}.pz-moment__frame.pz-moment__congrats .pz-moment__button.secondary,.pz-moment__frame.pz-moment__welcome .pz-moment__button.secondary{color:var(--text-color)}.pz-moment__frame.pz-moment__congrats .pz-moment__button.secondary:hover,.pz-moment__frame.pz-moment__welcome .pz-moment__button.secondary:hover{color:var(--body-bg-color)}.sb-modal-wrapper .sb-modal-frame{background:var(--body-bg-color);border:1px solid var(--border-color);color:var(--text-color)}.sb-modal-wrapper .pz-modal__title,.sb-modal-wrapper .sb-modal-close{color:var(--text-color)}.pz-moment__close:after,.pz-moment__close:before{background:var(--text-color)}.pz-modal__button.white:hover{background:var(--area-bg-color)}.sb-input-invalid{color:var(--invalid-color)}.sb-toggle-expand{box-shadow:none}.sb-input-bright,.sb-progress-dot.completed:after{color:var(--highlight-bg-color)}.cell-fill{stroke:var(--body-bg-color)}.cell-letter{fill:var(--text-color)}.hive-cell.center .cell-letter{fill:var(--highhlight-text-color)}.hive-action{background-color:var(--body-bg-color);color:var(--text-color)}.hive-action.push-active{background:var(--menu-hover-color)}.hive-action,.pz-ad-box,.pz-game-toolbar,.pz-spelling-bee-wordlist,.sb-message,.sb-wordlist-box,.sb-wordlist-items-pag>li,[data-sba-theme] .sb-modal-wordlist-items li{border-color:var(--border-color)}.sb-toggle-expand{background:var(--body-bg-color)}.pz-nav:after,.sb-progress-dot:after,.sb-progress-line{background:var(--border-color)}.sb-bob{background-color:var(--border-color)}.sb-bob.active{background-color:var(--text-color)}.sba{background:var(--body-bg-color);border-radius:6px;border-style:solid;border-width:1px}.sba :focus{outline:0}.sba ::-moz-selection{background:transparent}.sba ::selection{background:transparent}.sba details{font-size:90%;margin-bottom:1px}.sba summary{background:var(--area-bg-color);border:1px solid var(--border-color);color:var(--text-color);cursor:pointer;font-size:13px;line-height:20px;overflow:hidden;padding:1px 6px 0;position:relative;text-overflow:ellipsis;white-space:nowrap}.inactive[data-ui]{display:none}.sba-data-pane{border:1px solid var(--border-color);border-collapse:collapse;border-top:none;font-size:85%;margin-bottom:2px;table-layout:fixed;width:100%}.sba-data-pane .sba-data-pane[data-cols="3"] td,.sba-data-pane .sba-data-pane[data-cols="3"] th{width:33.3333333333%}.sba-data-pane .sba-data-pane[data-cols="4"] td,.sba-data-pane .sba-data-pane[data-cols="4"] th{width:25%}.sba-data-pane .sba-data-pane[data-cols="5"] td,.sba-data-pane .sba-data-pane[data-cols="5"] th{width:20%}.sba-data-pane .sba-data-pane[data-cols="6"] td,.sba-data-pane .sba-data-pane[data-cols="6"] th{width:16.6666666667%}.sba-data-pane .sba-data-pane[data-cols="7"] td,.sba-data-pane .sba-data-pane[data-cols="7"] th{width:14.2857142857%}.sba-data-pane .sba-data-pane[data-cols="8"] td,.sba-data-pane .sba-data-pane[data-cols="8"] th{width:12.5%}.sba-data-pane .sba-data-pane[data-cols="9"] td,.sba-data-pane .sba-data-pane[data-cols="9"] th{width:11.1111111111%}.sba-data-pane .sba-data-pane[data-cols="10"] td,.sba-data-pane .sba-data-pane[data-cols="10"] th{width:10%}.sba-data-pane th{background:var(--head-row-bg-color);text-transform:uppercase}.sba-data-pane .sba-preeminent{border-bottom:2px solid var(--highlight-bg-color)!important;font-weight:700}.sba-data-pane .sba-completed td,.sba-data-pane td.sba-completed{color:var(--invalid-color);font-weight:400}.sba-data-pane .sba-hidden{display:none}.sba-data-pane td,.sba-data-pane th{border:1px solid var(--border-color);border-top:none;padding:3px 2px;text-align:center;white-space:nowrap}.sba-data-pane th{background-color:var(--head-row-bg-color)}[data-ui=community] h4{font-family:nyt-franklin;font-size:18px;font-weight:700;margin:0 0 1px}[data-ui=community] p{font-size:16px;margin:0 0 2px}[data-ui=community] em{display:block;font-family:nyt-franklin;font-size:14px;font-weight:400;font-weight:500}[data-ui=community] li{margin:0 0 12px}[data-ui=community] li ul{list-style:disc;padding-left:20px}[data-ui=community] li ul li{margin:0}[data-ui=community] li ul li a{color:var(--link-color)}[data-ui=community] li ul li a:hover{color:var(--link-hover-color)}[data-ui=community] .sb-modal-body{margin-top:0;padding-bottom:10px}[data-ui=yourProgress] b{font-weight:700}[data-ui=yourProgress] .sba-data-pane{border:none;margin-left:5px;max-width:300px}[data-ui=yourProgress] .sba-data-pane tr.sba-completed td{color:var(--text-color)}[data-ui=yourProgress] .sba-data-pane tr td{border:none;line-height:1.8;text-align:left}[data-ui=yourProgress] .sba-data-pane tr td:nth-child(n+2){text-align:right;width:80px}[data-ui=yourProgress] .sba-data-pane tr td:nth-child(2):after{content:" pts."}[data-ui=yourProgress] .sba-data-pane tr td:last-child:after{content:"%"}[data-ui=header]{flex-grow:2;font-weight:700;line-height:32px;text-indent:1px}[data-ui=progressBar]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:none;border-bottom:1px solid var(--border-color);border-radius:0;display:block;height:6px;margin:0;padding:0;width:100%}[data-ui=progressBar]::-webkit-progress-bar{background-color:transparent}[data-ui=progressBar]::-webkit-progress-value{background-color:var(--highlight-bg-color);height:4px}[data-ui=progressBar]::-moz-progress-bar{background-color:var(--highlight-bg-color)}[data-ui=spillTheBeans]{font-size:38px;margin-top:-24px;padding:14px 0;text-align:center}[data-ui=menu]{position:relative;z-index:1}[data-ui=menu] .pane{background:var(--body-bg-color);border:1px solid var(--border-color);color:var(--text-color);padding:5px;width:179px}[data-ui=menu] li{cursor:pointer;display:block;font-size:14px;line-height:1.8;overflow:hidden;padding:5px 9px 5px 36px;position:relative;white-space:nowrap}[data-ui=menu] li:after,[data-ui=menu] li:before{display:block;position:absolute}[data-ui=menu] li.checked[data-icon=checkmark]:after{color:var(--highlight-bg-color);content:"✔";font-size:16px;left:14px;top:3px}[data-ui=menu] li[data-icon=sba],[data-ui=menu] li[data-target=darkModeColors]{border-top:1px solid var(--border-color)}[data-ui=menu] li[data-icon=sba]{color:currentColor}[data-ui=menu] li[data-icon=sba]:hover{color:var(--link-hover-color);text-decoration:underline}[data-ui=menu] li svg{display:inline-block;height:20px;left:7px;position:absolute;top:6px;width:20px}[data-ui=menu] li svg .shape{fill:var(--text-color)}[data-ui=menu] li svg .content{fill:var(--highlight-bg-color)}.sba-color-selector{display:flex;gap:10px;justify-content:space-between}.sba-color-selector svg{display:block;height:120px;width:120px}[data-ui=darkModeColors] .hive{display:flex;flex-grow:2;padding:0;width:auto}[data-ui=darkModeColors] .hive-cell{border:1px solid var(--border-color);border-radius:6px;height:100%;margin:auto;padding:20px;position:static;width:168px}[data-ui=darkModeColors] .cell-letter{font-size:8px;font-weight:600}.sba-swatches{display:flex;flex-wrap:wrap;justify-content:space-around;list-style:none;padding:0;width:220px}.sba-swatches li{margin-bottom:5px;overflow:hidden;position:relative}.sba-swatches label{border:1px solid var(--border-color);cursor:pointer;display:block;height:50px;overflow:hidden;width:50px}.sba-swatches input{left:-100px;position:absolute}.sba-swatches input:checked~label{border-color:var(--highlight-bg-color)}.sba-googlified .sb-anagram{cursor:pointer}.sba-googlified .sb-anagram:hover{color:var(--link-hover-color);text-decoration:underline}#js-mobile-toolbar *,#portal-game-toolbar *{background-color:var(--body-bg-color);border-color:var(--border-color);color:var(--text-color)}#js-mobile-toolbar ::-moz-selection,#portal-game-toolbar ::-moz-selection{background-color:var(--body-bg-color)}#js-mobile-toolbar ::selection,#portal-game-toolbar ::selection{background-color:var(--body-bg-color)}#js-mobile-toolbar .pz-dropdown__arrow,#portal-game-toolbar .pz-dropdown__arrow{border-bottom-color:var(--text-color);border-left-color:transparent;border-right-color:transparent;border-top-color:var(--text-color)}.pz-mobile .pz-toolbar-button__sba{color:var(--text-color)}[data-sba-theme=dark] #js-mobile-toolbar i,[data-sba-theme=dark] #portal-game-toolbar i{background-color:transparent;filter:invert(1)}[data-sba-theme] .sb-modal-wordlist-items li .check.checked{border:none;height:auto;transform:none}[data-sba-theme] .sb-modal-wordlist-items li .check.checked:after{color:var(--highlight-bg-color);content:"✔";font-size:16px;position:relative;top:4px}[data-sba-theme] .sb-modal-header .sb-modal-letters{position:relative;top:-5px}& .pz-toolbar-button:hover,& [data-ui=menu] li:hover{background:var(--menu-hover-color);color:var(--text-color)}& .pz-toolbar-button::-moz-selection,& [data-ui=menu] li::-moz-selection{background-color:transparent}& .pz-toolbar-button::selection,& [data-ui=menu] li::selection{background-color:transparent}[data-ui=grid] table{border-top:1px solid var(--border-color);margin-left:-20px;width:calc(100% + 40px)}[data-ui=grid] tbody tr:last-child td{background-color:var(--head-row-bg-color)}[data-ui=grid] tbody tr td{padding:5px 0!important}[data-ui=grid] tbody tr td:last-of-type{background-color:var(--head-row-bg-color)}.sba details[open] summary:before{left:10px;top:1px;transform:rotate(-90deg)}.sba summary{list-style:none;padding:1px 15px 0 21px}.sba summary::marker{display:none}.sba summary:before{content:"❯";display:inline-block;font-size:9px;left:7px;position:absolute;top:0;transform:rotate(90deg);transform-origin:center}[data-sba-theme] .sb-modal-wordlist-items>li,[data-sba-theme] .sb-wordlist-items-pag>li{position:relative}[data-sba-theme] .sb-modal-wordlist-items>li.sba-pangram,[data-sba-theme] .sb-wordlist-items-pag>li.sba-pangram{border-bottom:2px solid var(--highlight-bg-color);font-weight:700}[data-sba-theme] .sb-modal-wordlist-items>li .sba-marks,[data-sba-theme] .sb-wordlist-items-pag>li .sba-marks{bottom:3px;position:absolute;right:0}[data-sba-theme] .sb-modal-wordlist-items>li .sba-marks mark,[data-sba-theme] .sb-wordlist-items-pag>li .sba-marks mark{display:none}[data-sba-theme] .sba-mark-c-active.sb-modal-wordlist-items .sba-mark-c,[data-sba-theme] .sba-mark-c-active.sb-wordlist-items-pag .sba-mark-c,[data-sba-theme] .sba-mark-d-active.sb-modal-wordlist-items .sba-mark-d,[data-sba-theme] .sba-mark-d-active.sb-wordlist-items-pag .sba-mark-d,[data-sba-theme] .sba-mark-p-active.sb-modal-wordlist-items .sba-mark-p,[data-sba-theme] .sba-mark-p-active.sb-wordlist-items-pag .sba-mark-p,[data-sba-theme] .sba-mark-s-active.sb-modal-wordlist-items .sba-mark-s,[data-sba-theme] .sba-mark-s-active.sb-wordlist-items-pag .sba-mark-s{display:inline-block}[data-sba-theme] mark{background:transparent;font-size:11px;pointer-events:none;text-transform:uppercase}[data-sba-theme] mark:after{content:" "}[data-sba-theme] mark:last-of-type:after{content:normal}[data-sba-theme] mark::-moz-selection{background-color:transparent}[data-sba-theme] mark::selection{background-color:transparent}[data-sba-theme] .sba-pop-up.sb-modal-frame .sb-modal-content .sba-modal-footer{border-top:1px solid var(--border-color);font-size:13px;padding:10px 10px 0;text-align:right}.sb-modal-frame .sb-modal-content:after{background:linear-gradient(180deg,transparent 0,var(--modal-bg-color) 56.65%,var(--body-bg-color) 100%)}.sba-container{display:none}.sba{margin:var(--sba-app-margin);padding:var(--sba-app-padding);width:var(--sba-app-width)}.sba,.sba *,.sba :after,.sba :before{box-sizing:border-box}[data-ui=menu] .pane{position:absolute;right:-10000px;top:0}[data-sba-submenu=true]{overflow-y:hidden}[data-sba-submenu=true] .sba{left:-167px;position:relative;top:-175px}[data-sba-submenu=true] .pz-game-toolbar{position:relative;z-index:4}[data-sba-submenu=true]{[data-ui=menu] .pane{right:-16px;top:49px}}[data-sba-submenu=true] .sba{left:-163px;top:0}.pz-desktop[data-sba-submenu=true] .pane{right:-16px;top:55px}[data-sba-active=true]{--sba-app-width:100px;--sba-app-padding:0;--sba-app-margin:0;--sba-game-offset:12px;--sba-game-width:1256px;--sba-mobile-threshold:900px}[data-sba-active=true] .sba-container{display:block;position:absolute;right:var(--sba-game-offset);top:50%;transform:translateY(-50%);z-index:1}[data-sba-active=true] .sba{border-color:transparent}[data-sba-active=true]{[data-ui=header]{display:none}}[data-sba-active=true][data-sba-submenu=true] .sba-container{height:0;top:0;z-index:4}[data-sba-active=true] .sb-expanded .sba-container{pointer-events:none;visibility:hidden}[data-sba-active=true] .sb-content-box{justify-content:space-between;max-width:var(--sba-game-width);position:relative}[data-sba-active=true] .sb-controls-box{max-width:calc(100vw - var(--sba-app-width))}@media (max-width:370px){[data-sba-active=true] .sb-hive{width:70%}.pz-spelling-bee-wordlist[data-sba-active=true] .hive-action:not(.hive-action__shuffle){font-size:.9em;margin:0 4px 8px;padding:23px 0}[data-sba-active=true] .hive-action:not(.hive-action__shuffle){min-width:auto;width:71px}}@media (max-width:450px){[data-ui=grid] table{table-layout:auto}[data-ui=grid] table.sba-data-pane tbody th,[data-ui=grid] table.sba-data-pane thead th:first-of-type{width:28px!important}[data-ui=grid] table.sba-data-pane tbody tr td,[data-ui=grid] table.sba-data-pane tbody tr th,[data-ui=grid] table.sba-data-pane thead tr td,[data-ui=grid] table.sba-data-pane thead tr th{font-size:90%;width:auto}}[data-sba-active] .pz-game-toolbar .pz-row{padding:0}@media (min-width:516px){[data-sba-active] .pz-game-toolbar .pz-row{padding:0 12px}.pz-desktop[data-sba-active] .sba{left:-175px}[data-ui=score] .sba-data-pane tbody th{text-transform:none;width:31%}[data-ui=score] .sba-data-pane tbody td{width:23%}[data-ui=score] .sba-data-pane tbody tr:first-child th:after{content:"ords"}[data-ui=score] .sba-data-pane tbody tr:nth-child(2) th:after{content:"oints"}[data-ui=score] .sba-data-pane thead th{width:23%}[data-ui=score] .sba-data-pane thead th:first-of-type{width:31%}[data-sba-active=true]{--sba-app-width:138px;--sba-app-padding:0 5px 5px}[data-sba-active=true] .sba{border-color:var(--border-color)}[data-sba-active=true] [data-ui=header]{display:block}}@media (min-width:900px){.pz-desktop[data-sba-submenu=true] [data-ui=menu] .pane{right:0;top:55px}[data-sba-active=true]{--sba-app-width:160px;--sba-app-padding:0 8px 8px;--sba-app-margin:66px 0 0 0}[data-sba-active=true] .sb-content-box{padding:0 var(--sba-game-offset)}[data-sba-active=true] .sb-controls-box{max-width:none}[data-sba-active=true] .sba-container{position:static;transform:none}[data-sba-active=true] .sb-expanded .sba-container{z-index:1}[data-sba-active=true][data-sba-submenu=true] .sba{top:-66px}.pz-desktop[data-sba-active=true] .sba{left:-191px}}@media (min-width:1298px){[data-sba-active=true][data-sba-submenu=true] .sba{left:-179px}}@media (min-width:768px){.pz-page[data-sba-theme] .sba-pop-up.sb-modal-frame .sb-modal-content .sb-modal-body,.pz-page[data-sba-theme] .sba-pop-up.sb-modal-frame .sb-modal-content .sb-modal-header{padding-right:56px}.pz-page[data-sba-theme] .sba-pop-up.sb-modal-frame .sb-modal-content .sba-modal-footer{border-top:1px solid var(--border-color);margin:-8px auto 15px;padding-top:10px;text-align:right;width:calc(100% - 112px)}}'}),t.on(p("destroy"),(()=>this.ui.remove()))}}var D='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.042 15.915c-.418-.09-.867-.402-1.116-.776-.192-.289-.273-.558-.3-1C.561 13.06.517 5.163.574 4.573c.017-.185.032-.232.099-.314a.774.774 0 01.18-.156l.102-.059 7.291.007c6.859.006 7.304.01 7.52.053 1.545.312 2.778 1.251 3.324 2.531.125.293.21.592.284 1.008.089.492.09 1.307.004 1.734-.35 1.725-1.687 3.002-3.553 3.393a5.827 5.827 0 01-1.218.13c-.255.005-.427.02-.464.04-.102.055-.13.155-.147.528-.027.6-.119.996-.32 1.387-.253.492-.614.795-1.163.978l-.196.065-2.762.029c-3.94.04-7.293.034-7.513-.013zm13.386-4.909c.38-.033.602-.094.892-.243a2.398 2.398 0 001.257-1.645c.054-.266.055-.91.002-1.193-.166-.873-.74-1.596-1.492-1.88-.321-.12-.51-.142-1.232-.142h-.665l-.171.153-.008 2.365c-.004 1.3 0 2.392.008 2.426.008.033.046.09.083.124.067.062.078.063.538.063.258 0 .613-.013.788-.028z" fill="#fff"/><path d="M7.158 13.565c.191.064.255 0 .255 0s2.228-2.037 3.246-3.247c.892-1.082.955-2.8-.573-3.501-1.527-.7-2.8.764-2.8.764a2.508 2.508 0 00-3.502-.382l-.063.064c-.764.827-.51 2.228.063 2.992a38.304 38.304 0 003.247 3.183z" fill="#ff5e5b"/><path class="shape" d="M.984 3.495a.266.266 0 00-.038.003c-.51.071-.903.498-.93 1.013a.266.266 0 000 .014v.191c0 .003-.064 6.17.064 9.56a.266.266 0 000 .004 2.364 2.364 0 002.368 2.225c.002 0 6.42 0 9.485-.064h.445a.266.266 0 00.064-.007c.965-.241 1.523-.842 1.803-1.481.244-.556.26-1.096.27-1.54 1.708.003 3.202-.561 4.19-1.59 1.036-1.077 1.523-2.622 1.193-4.35a4.436 4.436 0 00-1.96-3.04 5.15 5.15 0 00-2.95-.938zm.033.532h13.97a4.617 4.617 0 012.649.843.266.266 0 00.007.005 3.903 3.903 0 011.728 2.682.266.266 0 00.003.01c.304 1.58-.133 2.93-1.053 3.888s-2.338 1.522-4.024 1.461a.266.266 0 00-.276.268c0 .432-.034 1.032-.264 1.555-.227.519-.625.963-1.43 1.17h-.395a.266.266 0 00-.005 0c-3.048.064-9.48.063-9.48.063a.266.266 0 00-.002 0A1.823 1.823 0 01.612 14.25C.486 10.89.55 4.718.55 4.718a.266.266 0 000-.002v-.178a.545.545 0 01.467-.51zm13.271 1.886a.266.266 0 00-.266.268v4.583a.266.266 0 00.26.266c.48.012.961-.009 1.439-.065a.266.266 0 00.027-.005 2.4 2.4 0 001.86-2.557 2.535 2.535 0 00-.564-1.622 2.178 2.178 0 00-1.81-.868zm.267.534h.688a.266.266 0 00.009 0 1.643 1.643 0 011.37.656.266.266 0 00.006.01c.297.364.457.822.45 1.292a.266.266 0 00.002.03 1.862 1.862 0 01-1.443 2.002c-.359.041-.72.048-1.081.048z"/></svg>';const H={warning:'<svg version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n <path class="content" d="M11.998 4.625l9.228 15.98H2.773z"/>\n <path class="shape" d="m12.006 1.5059a.75.75 0 00-.64844.375l-11.252 19.488a.75.75 0 00.65039 1.125h22.506a.75.75 0 00.64844-1.125l-11.254-19.488a.75.75 0 00-.65039-.375zm.001953 2.25 9.9531 17.238h-19.906l9.9531-17.238z"/>\n <path fill="#000" d="m13.44 9.4763-.317 7.306h-2.247l-.317-7.306zm-.048 10.262h-2.785v-1.82h2.785z"/>\n</svg>',coffee:D};class I extends m{getTarget(){return this.app.envIs("mobile")?w.$("#js-mobile-toolbar"):w.$("#portal-game-toolbar > div:last-of-type")}add(){if(!this.app.envIs("mobile"))return super.add();const t=w.$("#js-global-nav");if(t.classList.contains("show-mobile-toolbar"))return super.add();const e=new MutationObserver((t=>{for(let a of t)if("attributes"===a.type&&"class"===a.attributeName&&a.target.classList.contains("show-mobile-toolbar"))return e.disconnect(),super.add()}));e.observe(t,{attributes:!0})}getComponent(t){return t.dataset.component===this.app.key?this.app:this.app.plugins.has(t.dataset.component)?this.app.plugins.get(t.dataset.component):null}constructor(t){super(t,"Menu",""),this.target=this.getTarget(),this.app.envIs("mobile")&&(this.addMethod="after");const e=["pz-toolbar-button__sba",this.app.envIs("mobile")?"pz-nav__toolbar-item":"pz-toolbar-button"];this.app.domSet("submenu",!1);const a=w.ul({classNames:["pane"],data:{ui:"submenu"},events:{pointerup:t=>{const e=t.target.closest("li");if(!e||0!==t.button)return!0;const a=this.getComponent(e);switch(e.dataset.action){case"boolean":{let t=!a.getState();a.toggle(t),e.classList.toggle("checked",t),a===this.app&&this.app.toggle(t);break}case"popup":this.app.domSet("submenu",!1),a.display();break;default:setTimeout((()=>{this.app.domSet("submenu",!1)}),60)}}},content:w.li({classNames:this.app.getState()?["checked"]:[],attributes:{title:this.app.title},data:{component:this.app.key,icon:"checkmark",action:"boolean"},content:`Show ${d.get("title")}`})});this.ui=w.div({events:{pointerup:t=>{if(0!==t.button)return!0;t.target.dataset.action||this.app.domSet("submenu",!this.app.domGet("submenu"))}},content:[d.get("title"),a],aria:{role:"presentation"},classNames:e}),document.addEventListener("keyup",(t=>{!0===this.app.domGet("submenu")&&/^(Ent|Esc|Key|Dig)/.test(t.code)&&this.app.domSet("submenu",!1)})),w.$("#pz-game-root").addEventListener("pointerdown",(t=>{!0===this.app.domGet("submenu")&&this.app.domSet("submenu",!1)})),t.on(p("pluginsReady"),(t=>{t.detail.forEach(((t,e)=>{if(!t.canChangeState||t===this)return!1;const o=t.menuAction||"boolean",s=t.menuIcon||null;a.append(w.li({classNames:"boolean"===o&&t.getState()?["checked"]:[],attributes:{title:t.description},data:{component:e,icon:"boolean"===o?"checkmark":s,action:o},content:H[s]?[H[s],t.title]:t.title}))})),a.append(w.li({attributes:{title:d.get("kofi.text")},data:{icon:p(),component:p("web"),action:"link"},content:w.a({content:[D,d.get("kofi.text")],attributes:{href:d.get("kofi.url"),target:p()}})}))})),t.on(p("destroy"),(()=>this.ui.remove()))}}class W extends C{display(){return this.popup.setContent("subtitle",this.description).setContent("body",this.getPane()).toggle(!0),this}run(t){super.run(t);const e=w.$$("tr",this.pane),a=e.length;return e.forEach(((t,e)=>{if(a===e+1)return!1;const o=w.$$("td",t),s=o.length;o.forEach(((t,e)=>{const a=t.textContent.trim().split("/");e<s-1&&2===a.length&&a[0]===a[1]&&t.classList.add(p("completed","d"))}))})),this}getData(){const t=h.get("foundTerms"),e=h.get("answers"),a=Array.from(new Set(e.map((t=>t.charAt(0))))).concat(["∑"]),o=Array.from(new Set(e.map((t=>t.length)))).concat(["∑"]);o.sort(((t,e)=>t-e)),a.sort();const s=[[""].concat(a)];let r=Object.fromEntries(a.map((t=>[t,{fnd:0,all:0}]))),n=Object.fromEntries(o.map((t=>[t,JSON.parse(JSON.stringify(r))])));e.forEach((e=>{const a=e.charAt(0),o=e.length;n[o][a].all++,n[o]["∑"].all++,n["∑"][a].all++,n["∑"]["∑"].all++,t.includes(e)&&(n[o][a].fnd++,n[o]["∑"].fnd++,n["∑"][a].fnd++,n["∑"]["∑"].fnd++)}));for(let[t,e]of Object.entries(n)){const a=[t];Object.values(e).forEach((t=>{a.push(t.all>0?`${t.fnd}/${t.all}`:"-")})),s.push(a)}return s}constructor(t){super(t,"Grid","The number of words by length and by first letter."),this.popup=new x(this.app,this.key).setContent("title",this.title),this.menuAction="popup",this.menuIcon="null"}}new class extends g{domSet(t,e){return document.body.dataset[p(t)]=e,this}domUnset(t){return delete document.body.dataset[p(t)],this}domGet(t){return void 0!==document.body.dataset[p(t)]&&JSON.parse(document.body.dataset[p(t)])}getSyncData(){let t=localStorage.getItem("sb-today");return t?(t=JSON.parse(t),t.words||[]):[]}envIs(t){return document.body.classList.contains("pz-"+t)}load(){w.waitFor(".sb-wordlist-items-pag",this.gameWrapper).then((t=>{this.observer=this.buildObserver(),h.setApp(this).update(this.getSyncData()),this.modalWrapper=w.$(".sb-modal-wrapper",this.gameWrapper),this.resultList=t,this.add(),this.domSet("active",!0),this.registerPlugins(),this.trigger(p("refreshUi")),document.dispatchEvent(new Event(p("ready"))),this.envIs("desktop")&&window.scrollTo(0,472)}))}getState(){return this.domGet("active")}toggle(t){return this.domSet("active",t),this}buildObserver(){const t=new MutationObserver((t=>{t.forEach((t=>{if(!(t.target instanceof HTMLElement))return!1;switch(!0){case"childList"===t.type&&t.target.isSameNode(this.modalWrapper):w.$(".sb-modal-frame.yesterday",t.target)&&this.trigger(p("yesterday"),t.target);break;case"childList"===t.type&&t.target.classList.contains("sb-hive-input-content"):this.trigger(p("newInput"),t.target.textContent.trim());break;case"childList"===t.type&&t.target.isSameNode(this.resultList)&&!!t.addedNodes.length&&!!t.addedNodes[0].textContent.trim()&&t.addedNodes[0]instanceof HTMLElement:this.trigger(p("newWord"),t.addedNodes[0].textContent.trim())}}))})),e={target:this.gameWrapper,options:{childList:!0,subtree:!0,attributes:!0}};return t.observe(e.target,e.options),t}buildUi(){const t={};t[p("destroy")]=()=>{this.observer.disconnect(),this.container.remove(),this.domUnset("theme")};const e=[d.get("ns")];return w.div({data:{id:this.key,version:d.get("version")},classNames:e,events:t})}registerPlugins(){return this.plugins=new Map,Object.values({Header:z,Score:_,LetterCount:P,FirstLetter:N,FirstTwoLetters:j,Pangrams:T,ProgressBar:S,Grid:W,SpillTheBeans:E,DarkMode:f,ColorConfig:k,PangramHl:O,Googlify:A,Styles:B,Menu:I,YourProgress:$,Community:L,TodaysAnswers:M}).forEach((t=>{const e=new t(this);e.add(),this.plugins.set(e.key,e)})),this.trigger(p("pluginsReady"),this.plugins),this}add(){this.container.append(this.ui),w.$(".sb-content-box",this.gameWrapper).prepend(this.container)}constructor(t){super(d.get("label"),{canChangeState:!0,key:p("app")});const e=w.$(`[data-id="${this.key}"]`);e&&e.dispatchEvent(new Event(p("destroy"))),this.gameWrapper=t,this.ui=this.buildUi(),this.container=w.div({classNames:[p("container","d")]}),this.load()}}(w.$("#js-hook-game-wrapper"))}();
